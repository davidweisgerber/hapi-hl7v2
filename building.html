<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 at 2023-10-30 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20231030" />
    <meta http-equiv="Content-Language" content="en" />
    <title>HAPI &#x2013; </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href="https://hapifhir.github.io/hapi-hl7v2" id="bannerLeft"><img src="images/hapi_banner.png"  alt="HAPI"/></a></div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2023-10-30<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 2.5</li>
      <li class="pull-right"><span class="divider">|</span>
<a href="http://www.uhn.ca/" class="externalLink" title="University Health Network">University Health Network</a></li>
      <li class="pull-right"><span class="divider">|</span>
<a href="http://hl7.org/" class="externalLink" title="hl7.org">hl7.org</a></li>
      <li class="pull-right"><a href="https://github.com/hapifhir/hapi-hl7v2" class="externalLink" title="GitHub Project Page">GitHub Project Page</a></li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Welcome</li>
    <li><a href="index.html" title="Introduction"><span class="none"></span>Introduction</a>  </li>
    <li><a href="changes-report.html" title="Changelog"><span class="none"></span>Changelog</a>  </li>
    <li><a href="https://smilecdr.com/blog/" class="externalLink" title="Blog"><span class="none"></span>Blog</a>  </li>
          <li class="nav-header">FHIR</li>
    <li><a href="hapi-fhir/" title="HAPI FHIR"><span class="none"></span>HAPI FHIR</a>  </li>
          <li class="nav-header">Tools</li>
    <li><a href="hapi-testpanel/index.html" title="TestPanel"><span class="none"></span>TestPanel</a>  </li>
    <li><a href="hapi-hl7overhttp/index.html" title="HL7 over HTTP"><span class="none"></span>HL7 over HTTP</a>  </li>
    <li><a href="colouriser.html" title="Colouriser"><span class="none"></span>Colouriser</a>  </li>
          <li class="nav-header">Download</li>
    <li><a href="https://sourceforge.net/projects/hl7api/files/hl7api/" class="externalLink" title="Download Java API"><span class="none"></span>Download Java API</a>  </li>
    <li><a href="hapi-testpanel/install.html" title="Download TestPanel"><span class="none"></span>Download TestPanel</a>  </li>
          <li class="nav-header">Documentation</li>
    <li><a href="getting_started.html" title="Getting Started"><span class="none"></span>Getting Started</a>  </li>
    <li><a href="devbyexample.html" title="HAPI By Example"><span class="none"></span>HAPI By Example</a>  </li>
    <li><a href="base/apidocs/index.html" title="JavaDoc (API core)"><span class="icon-chevron-down"></span>JavaDoc (API core)</a>
      <ul class="nav nav-list">
    <li><a href="v21/apidocs/index.html" title="v2.1 Messages"><span class="none"></span>v2.1 Messages</a>  </li>
    <li><a href="v22/apidocs/index.html" title="v2.2 Messages"><span class="none"></span>v2.2 Messages</a>  </li>
    <li><a href="v23/apidocs/index.html" title="v2.3 Messages"><span class="none"></span>v2.3 Messages</a>  </li>
    <li><a href="v231/apidocs/index.html" title="v2.3.1 Messages"><span class="none"></span>v2.3.1 Messages</a>  </li>
    <li><a href="v24/apidocs/index.html" title="v2.4 Messages"><span class="none"></span>v2.4 Messages</a>  </li>
    <li><a href="v25/apidocs/index.html" title="v2.5 Messages"><span class="none"></span>v2.5 Messages</a>  </li>
    <li><a href="v251/apidocs/index.html" title="v2.5.1 Messages"><span class="none"></span>v2.5.1 Messages</a>  </li>
    <li><a href="v26/apidocs/index.html" title="v2.6 Messages"><span class="none"></span>v2.6 Messages</a>  </li>
    <li><a href="v27/apidocs/index.html" title="v2.7 Messages"><span class="none"></span>v2.7 Messages</a>  </li>
    <li><a href="v28/apidocs/index.html" title="v2.8 Messages"><span class="none"></span>v2.8 Messages</a>  </li>
    <li><a href="v281/apidocs/index.html" title="v2.8.1 Messages"><span class="none"></span>v2.8.1 Messages</a>  </li>
      </ul>
  </li>
    <li><a href="xref/index.html" title="Source XRef"><span class="none"></span>Source XRef</a>  </li>
    <li><a href="hapi-faq.html" title="FAQ"><span class="none"></span>FAQ</a>  </li>
    <li><a href="conformance.html" title="Conformance Tools"><span class="none"></span>Conformance Tools</a>  </li>
    <li><a href="hapi-sourcegen/confgen-usage.html" title="Maven Plugins"><span class="none"></span>Maven Plugins</a>  </li>
          <li class="nav-header">Get Help</li>
    <li><a href="mail-lists.html" title="Mailing List"><span class="none"></span>Mailing List</a>  </li>
          <li class="nav-header">Contribute</li>
    <li class="active"><a href="#"><span class="none"></span>Hacking HAPI</a>
  </li>
    <li><a href="submissions.html" title="Submitting Code"><span class="none"></span>Submitting Code</a>  </li>
    <li><a href="issue-tracking.html" title="Issue Tracking"><span class="none"></span>Issue Tracking</a>  </li>
    <li><a href="source-repository.html" title="Source Code"><span class="none"></span>Source Code</a>  </li>
          <li class="nav-header">Reports</li>
    <li><a href="team-list.html" title="HAPI Developers"><span class="none"></span>HAPI Developers</a>  </li>
    <li><a href="surefire-report.html" title="Unit Test Report"><span class="none"></span>Unit Test Report</a>  </li>
    <li><a href="taglist.html" title="Source Tag List"><span class="none"></span>Source Tag List</a>  </li>
    <li><a href="cobertura/index.html" title="Cobertura"><span class="none"></span>Cobertura</a>  </li>
    <li><a href="license.html" title="License"><span class="none"></span>License</a>  </li>
          <li class="nav-header">Older Documentation</li>
    <li><a href="parsing.html" title="Parsing Messages"><span class="none"></span>Parsing Messages</a>  </li>
    <li><a href="installation.html" title="Installation"><span class="none"></span>Installation</a>  </li>
    <li><a href="links.html" title="Helpful Links"><span class="none"></span>Helpful Links</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org" title="Built with Maven 2" class="builtBy"><img class="builtBy"  alt="Built with Maven 2" src="images/logos/maven-feather.png"    /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<section>
<h2><a name="Hacking_HAPI"></a>Hacking HAPI</h2>
<p>This page explains all of the steps neccesary to work with the actual source code for HAPI. This might be done for example to fix bugs, add features, or learn how HAPI works internally. </p>
<p>As of version 0.6, HAPI uses the <a class="externalLink" href="./http://maven.apache.org">Maven</a> build system to build it's source code. Generating the source takes the following steps.</p><section>
<h3><a name="Getting_the_Source"></a>Getting the Source</h3>
<p>The first step to building HAPI is obtaining the source code. HAPI uses CVS as its <a href="./source-repository.html">source-code repository</a>.</p>
<p>Note that the correct subdirectory to check out from the repository is now called &quot;hapi-mvn&quot;. There is an outdated directory called &quot;hapi&quot; which is kept only for reference.</p>
<p>If you are using Eclipse to check the project out, the project may show errors when you first check it out. These will be resolved by running through the build using Maven.</p></section><section>
<h3><a name="Understanding_the_Project_Structure"></a>Understanding the Project Structure</h3>
<p>HAPI is now broken up into several subprojects:</p>
<table border="0" class="table table-striped">
<tr class="a">
<td align="left">hapi-base</td>
<td align="left">This is the core of the HAPI library. It contains things such as parsers, transport, validation, etc. If you are making changes to HAPI itself, this is probably where you want to start.</td></tr>
<tr class="b">
<td align="left">hapi-sourcegen</td>
<td align="left">This project is used to generate message libraries. It is only used at build time.</td></tr>
<tr class="a">
<td align="left">hapi-structures-vXX</td>
<td align="left">These projects contain the libraries used to generate and process individual messages for a specific version of HL7. They are generated using the proprietary HL7 database provided by HL7.org, and so are usually not modified by end users of the HAPI library.</td></tr>
<tr class="b">
<td align="left">hapi-examples</td>
<td align="left">This project provides several annotated examples of how to use HAPI.</td></tr>
<tr class="a">
<td align="left">hapi-test</td>
<td align="left">This project contains unit tests for the HAPI library</td></tr></table></section><section>
<h3><a name="Install_the_build_tools"></a>Install the build tools</h3>
<p>Download the latest version of <a class="externalLink" href="http://maven.apache.org">Maven</a>. The download page also has instructions for installing Maven correctly.</p></section><section>
<h3><a name="Building_HAPI"></a>Building HAPI</h3>
<p>Building a HAPI base JAR is as simple as typing:</p>
<div class="source"><pre class="prettyprint">mvn install</pre></div>
<p>At the end of this build, you should have a compiled JAR in the following subdirectory:</p>
<div class="source"><pre class="prettyprint">[workspace]/hapi-mvn/hapi-base/target/hapi-base-VERSION.jar</pre></div></section><section>
<h3><a name="Set_up_Eclipse"></a>Set up Eclipse</h3>
<p>Once Maven has been run for the first time, you will need to define an Eclipse classpath variable pointing to your local maven repository.</p>
<ul>
<li>First, find your local Maven repository. It will be a directory called &quot;.m2/repository&quot; in your home directory. So, for a user named &quot;james&quot;, it would be in the following location, depending on OS:
<table border="0" class="table table-striped">
<tr class="a">
<td align="left">Windows XP</td>
<td align="left">C:&#xa0;Documents and Settings&#xa0;James&#xa0;.m2&#xa0;repository</td></tr>
<tr class="b">
<td align="left">Windows Vista</td>
<td align="left">C:&#xa0;Users&#xa0;James&#xa0;.m2&#xa0;repository</td></tr>
<tr class="a">
<td align="left">Linux</td>
<td align="left">/home/james/.m2/repository</td></tr></table></li>
<li>Next, in Eclipse, open the Preferences dialogue (in the Window menu).</li>
<li>Navigate to the following section: Java -&gt; Build Path -&gt; Classpath Variables</li>
<li>Click on &quot;New&quot;</li>
<li>For &quot;Name&quot;, enter &quot;M2_REPO&quot;</li>
<li>For &quot;Path&quot;, enter the path to the local repo. eg: &quot;C:\Users\James\.m2\repository&quot;</li></ul></section><section>
<h3><a name="Tips_and_tricks"></a>Tips and tricks</h3>
<p>To skip running the unit tests, execute the following:</p>
<div class="source"><pre class="prettyprint">mvn -Dmaven.test.skip -P CORE install</pre></div></section></section>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2001&#x2013;2023
<a href="http://www.uhn.ca">University Health Network</a>.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    </body>
</html>
