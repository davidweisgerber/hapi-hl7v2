<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 at 2023-11-01 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20231101" />
    <meta http-equiv="Content-Language" content="en" />
    <title>HAPI &#x2013; HAPI</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href="https://hapifhir.github.io/hapi-hl7v2" id="bannerLeft"><img src="images/hapi_banner.png"  alt="HAPI"/></a></div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2023-11-01<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 2.5.1</li>
      <li class="pull-right"><span class="divider">|</span>
<a href="http://www.uhn.ca/" class="externalLink" title="University Health Network">University Health Network</a></li>
      <li class="pull-right"><span class="divider">|</span>
<a href="http://hl7.org/" class="externalLink" title="hl7.org">hl7.org</a></li>
      <li class="pull-right"><a href="https://github.com/hapifhir/hapi-hl7v2" class="externalLink" title="GitHub Project Page">GitHub Project Page</a></li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Welcome</li>
    <li><a href="index.html" title="Introduction"><span class="none"></span>Introduction</a>  </li>
    <li class="active"><a href="#"><span class="none"></span>Changelog</a>
  </li>
    <li><a href="https://smilecdr.com/blog/" class="externalLink" title="Blog"><span class="none"></span>Blog</a>  </li>
          <li class="nav-header">FHIR</li>
    <li><a href="hapi-fhir/" title="HAPI FHIR"><span class="none"></span>HAPI FHIR</a>  </li>
          <li class="nav-header">Tools</li>
    <li><a href="hapi-testpanel/index.html" title="TestPanel"><span class="none"></span>TestPanel</a>  </li>
    <li><a href="hapi-hl7overhttp/index.html" title="HL7 over HTTP"><span class="none"></span>HL7 over HTTP</a>  </li>
    <li><a href="colouriser.html" title="Colouriser"><span class="none"></span>Colouriser</a>  </li>
          <li class="nav-header">Download</li>
    <li><a href="https://sourceforge.net/projects/hl7api/files/hl7api/" class="externalLink" title="Download Java API"><span class="none"></span>Download Java API</a>  </li>
    <li><a href="hapi-testpanel/install.html" title="Download TestPanel"><span class="none"></span>Download TestPanel</a>  </li>
          <li class="nav-header">Documentation</li>
    <li><a href="getting_started.html" title="Getting Started"><span class="none"></span>Getting Started</a>  </li>
    <li><a href="devbyexample.html" title="HAPI By Example"><span class="none"></span>HAPI By Example</a>  </li>
    <li><a href="base/apidocs/index.html" title="JavaDoc (API core)"><span class="icon-chevron-down"></span>JavaDoc (API core)</a>
      <ul class="nav nav-list">
    <li><a href="v21/apidocs/index.html" title="v2.1 Messages"><span class="none"></span>v2.1 Messages</a>  </li>
    <li><a href="v22/apidocs/index.html" title="v2.2 Messages"><span class="none"></span>v2.2 Messages</a>  </li>
    <li><a href="v23/apidocs/index.html" title="v2.3 Messages"><span class="none"></span>v2.3 Messages</a>  </li>
    <li><a href="v231/apidocs/index.html" title="v2.3.1 Messages"><span class="none"></span>v2.3.1 Messages</a>  </li>
    <li><a href="v24/apidocs/index.html" title="v2.4 Messages"><span class="none"></span>v2.4 Messages</a>  </li>
    <li><a href="v25/apidocs/index.html" title="v2.5 Messages"><span class="none"></span>v2.5 Messages</a>  </li>
    <li><a href="v251/apidocs/index.html" title="v2.5.1 Messages"><span class="none"></span>v2.5.1 Messages</a>  </li>
    <li><a href="v26/apidocs/index.html" title="v2.6 Messages"><span class="none"></span>v2.6 Messages</a>  </li>
    <li><a href="v27/apidocs/index.html" title="v2.7 Messages"><span class="none"></span>v2.7 Messages</a>  </li>
    <li><a href="v28/apidocs/index.html" title="v2.8 Messages"><span class="none"></span>v2.8 Messages</a>  </li>
    <li><a href="v281/apidocs/index.html" title="v2.8.1 Messages"><span class="none"></span>v2.8.1 Messages</a>  </li>
      </ul>
  </li>
    <li><a href="xref/index.html" title="Source XRef"><span class="none"></span>Source XRef</a>  </li>
    <li><a href="hapi-faq.html" title="FAQ"><span class="none"></span>FAQ</a>  </li>
    <li><a href="conformance.html" title="Conformance Tools"><span class="none"></span>Conformance Tools</a>  </li>
    <li><a href="hapi-sourcegen/confgen-usage.html" title="Maven Plugins"><span class="none"></span>Maven Plugins</a>  </li>
          <li class="nav-header">Get Help</li>
    <li><a href="mail-lists.html" title="Mailing List"><span class="none"></span>Mailing List</a>  </li>
          <li class="nav-header">Contribute</li>
    <li><a href="building.html" title="Hacking HAPI"><span class="none"></span>Hacking HAPI</a>  </li>
    <li><a href="submissions.html" title="Submitting Code"><span class="none"></span>Submitting Code</a>  </li>
    <li><a href="issue-tracking.html" title="Issue Tracking"><span class="none"></span>Issue Tracking</a>  </li>
    <li><a href="source-repository.html" title="Source Code"><span class="none"></span>Source Code</a>  </li>
          <li class="nav-header">Reports</li>
    <li><a href="team-list.html" title="HAPI Developers"><span class="none"></span>HAPI Developers</a>  </li>
    <li><a href="surefire-report.html" title="Unit Test Report"><span class="none"></span>Unit Test Report</a>  </li>
    <li><a href="taglist.html" title="Source Tag List"><span class="none"></span>Source Tag List</a>  </li>
    <li><a href="cobertura/index.html" title="Cobertura"><span class="none"></span>Cobertura</a>  </li>
    <li><a href="license.html" title="License"><span class="none"></span>License</a>  </li>
          <li class="nav-header">Older Documentation</li>
    <li><a href="parsing.html" title="Parsing Messages"><span class="none"></span>Parsing Messages</a>  </li>
    <li><a href="installation.html" title="Installation"><span class="none"></span>Installation</a>  </li>
    <li><a href="links.html" title="Helpful Links"><span class="none"></span>Helpful Links</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org" title="Built with Maven 2" class="builtBy"><img class="builtBy"  alt="Built with Maven 2" src="images/logos/maven-feather.png"    /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<section>
<h2><a name="HAPI"></a>HAPI</h2><section>
<h3><a name="Release_History"></a>Release History</h3>
<table border="0" class="table table-striped">
<tr class="a">
<th>Version</th>
<th>Date</th>
<th>Description</th></tr>
<tr class="b">
<td><a href="#a2.5.1">2.5.1</a></td>
<td>2023-11-01</td>
<td>&#160;</td></tr>
<tr class="a">
<td><a href="#a2.4.1">2.4.1</a></td>
<td>2023-11-01</td>
<td>&#160;</td></tr>
<tr class="b">
<td><a href="#a2.5">2.5</a></td>
<td>2023-10-30</td>
<td>&#160;</td></tr>
<tr class="a">
<td><a href="#a2.4">2.4</a></td>
<td>2023-10-30</td>
<td>&#160;</td></tr>
<tr class="b">
<td><a href="#a2.3">2.3</a></td>
<td>2017-06-23</td>
<td>&#160;</td></tr>
<tr class="a">
<td><a href="#a2.2">2.2</a></td>
<td>2014-03-04</td>
<td>This release contains a number of big fixes, a newly rewritten MLLP implementation and several API enhancements.</td></tr>
<tr class="b">
<td><a href="#a2.1">2.1</a></td>
<td>2013-03-21</td>
<td>This release introduces the HapiContext and brings many new features</td></tr>
<tr class="a">
<td><a href="#a2.0">2.0</a></td>
<td>2012-07-16</td>
<td>This release contains a complete overhaul of the SimpleServer infrastructure, a move to SLF4J, a new LLP implementation, and many other enhancements and bugfixes!</td></tr>
<tr class="b">
<td><a href="#a1.2">1.2</a></td>
<td>2011-06-26</td>
<td>This release brings some bug fixes and a   few enhancements. The primary focus of this release is in fixing issues relating to   parsing and encoding. In particular, a number of issues specific to parsing of   OBX-5 (Varies) values have been corrected.</td></tr>
<tr class="a">
<td><a href="#a1.1">1.1</a></td>
<td>2011-03-28</td>
<td>This release contains a number of bug fixes and several new features.</td></tr>
<tr class="b">
<td><a href="#a1.0.1">1.0.1</a></td>
<td>2010-05-16</td>
<td>This release corrects a single issue</td></tr>
<tr class="a">
<td><a href="#a1.0">1.0</a></td>
<td>2010-04-12</td>
<td>This release adds a newly reworked PipeParser, and number of new features</td></tr>
<tr class="b">
<td><a href="#a0.6">0.6</a></td>
<td>2009-07-01</td>
<td>This release adds support for HL7 2.5.1 and 2.6, as well as fixing a number of issues and introducing a new build system.</td></tr>
<tr class="a">
<td><a href="#a0.5.1">0.5.1</a></td>
<td>2007-02-18</td>
<td>This release fixes only one issue. In the previous release (0.5), some classes were released with a dependency on Java 5. HAPI officially supports JDK version 1.4, so this release corrects the dependency.</td></tr>
<tr class="b">
<td><a href="#a0.5">0.5</a></td>
<td>2006-12-14</td>
<td>&#160;</td></tr></table></section><section>
<h3 id="a2.5.1">Release 2.5.1 &#x2013; 2023-11-01</h3>
<table border="0" class="table table-striped">
<tr class="a">
<th>Type</th>
<th>Changes</th>
<th>By</th></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>SimpleServer now waits for its server socket to be closed when stopAndWait is called.
				This makes it easier for consumers of SimpleServer to reuse the port after stopping the server
				without implementing a wait for the port to be released themselves.</td>
<td><a href="team-list.html#Emre Dincturk">Emre Dincturk</a></td></tr></table></section><section>
<h3 id="a2.4.1">Release 2.4.1 &#x2013; 2023-11-01</h3>
<table border="0" class="table table-striped">
<tr class="a">
<th>Type</th>
<th>Changes</th>
<th>By</th></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>SimpleServer now waits for its server socket to be closed when stopAndWait is called.
				This makes it easier for consumers of SimpleServer to reuse the port after stopping the server
				without implementing a wait for the port to be released themselves.</td>
<td><a href="team-list.html#Emre Dincturk">Emre Dincturk</a></td></tr></table></section><section>
<h3 id="a2.5">Release 2.5 &#x2013; 2023-10-30</h3>
<table border="0" class="table table-striped">
<tr class="a">
<th>Type</th>
<th>Changes</th>
<th>By</th></tr>
<tr class="b">
<td><img src="" alt="" title="" /></td>
<td>HAPI HL7v2 2.5 is identical to HAPI FHIR 2.4, but uses the jakarta.servlet
				packages instead of the javax.servlet packages. All versions of HAPI HL7v2 going
				forward will contain this change.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr></table></section><section>
<h3 id="a2.4">Release 2.4 &#x2013; 2023-10-30</h3>
<table border="0" class="table table-striped">
<tr class="a">
<th>Type</th>
<th>Changes</th>
<th>By</th></tr>
<tr class="b">
<td><img src="" alt="" title="" /></td>
<td>As of HAPI HL7v2 2.4, HAPI FHIR now requires JDK 11 or newer in order to build or use the library.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>The XML parser was vulnerable to XXE injections (meaning that the XML
				parser could be coerced into inadvertently loading the contents of files
				on the local filesystem). It is highly recommended to upgrade to this
				release in order to mitigate this issue.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Testpanel: Correct a NullPointerException when opening a message from a text file</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Testpanel: Prevent a failure to autosave messages when TestPanel is closing if the charset has not been selected</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Testpanel: Fix formatting issue when displaying sent/received messages containing HTML fragments</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix an issue with the AbstractMessage#copy() method where non-standard
		                segments were not being added at the same position as the original message.</td>
<td><a href="team-list.html#Nathan Doef">Nathan Doef</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add a new copy() method to AbstractMessage that recursively loops over
		                every Structure and parses / encodes the contents of each AbstractSegment
		                into the copied message.</td>
<td><a href="team-list.html#Nathan Doef">Nathan Doef</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>The Connection interface now extends Closeable. As a consequence, the close()
				method now throws IOException. Thanks to hauntingEcho for the proposal. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=35">35</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fixes problem with missing items in PopulatingVisitor.
				Thanks to mourezwell for the pull request. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=33">33</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Allow Visitor or Terser API to filter for repeated field. Thanks to
				mourezwell for the pull request. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=31">31</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix namespace handling when XML-encoding messages. Thanks to kbalthaser for reporting. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=22">22</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix encoding of line breaks as \X000d\. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=7">7</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>When calling Parser#parse(Message, String), the parser now sets itself
				as the parser associated with the message. This causes the parser's
				validation settings to be applied during parse instead of
				default settings being applied.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add an optional mode to SimpleServer where all received messages are
				processed, even including unexpected ACK messages. Thanks to
				Tom Chiverton for the pull request!. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=2">2</a>.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>A concurrency issue causing an exception when parsing or receiving multiple
				messages in parallel has been resolved.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>A new protocol error handler has been added to the LLP layer. Thanks to
				Sumeet Chhetri for the pull request!. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=26">26</a>.</td>
<td><a href="team-list.html#null"></a></td></tr></table></section><section>
<h3 id="a2.3">Release 2.3 &#x2013; 2017-06-23</h3>
<table border="0" class="table table-striped">
<tr class="b">
<th>Type</th>
<th>Changes</th>
<th>By</th></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Improve SegmentFinder performance. Thanks to Niels Harremoës for reporting. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/242/">242</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fixed field numbers of handling MFE-4/MFE-5 varies types</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Consistently use longs in ID generators. Thanks to Samantha Chan for reporting. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/241/">241</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix missing location field in NAK messages. Thanks to Christian Woerns for reporting. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/240/">240</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix wrong case in Role and Identifier elements in conformance profile parsing. Thanks to Jens Villadsen. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/239/">239</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix serialization of TerserMessageRule. Thanks to Sebastian Tacke for reporting. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/238/">238</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Avoid NullPointerException with non-existing conformance profile. Thanks to Ulrich Metzger for reporting. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/234/">234</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix daylight savings issue in CommonTM. Thanks to Rolf Thorup for reporting and the fix. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/229/">229</a>.</td>
<td><a href="team-list.html#Rolf Thorup">Rolf Thorup</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Conformance profile validation skips Varies fields. Thanks to Pablo Leon for reporting</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add option to MessageValidator to validate primitives, too.
				Note that this slows down the validation significantly</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Do not embed slf4j into OSGi bundle (rely on PAX logging). With thanks to juantxorena. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/226/">226</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Avoid that empty segments are added during parsing. With thanks to Jens Villadsen. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/207/">207</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Allow messages to be wrapped as unmodifiable. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/feature-requests/92/">92</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Allow messages to be created from within an HapiContext. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/feature-requests/91/">91</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix isEmpty() and clear() in TSComponentOne. Thanks to Sebastian Tacke for reporting. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/224/">224</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Avoid NullPointerException using DefaultHapiContext close method. Thanks to Domingo Amado for reporting. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/223/">223</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>CustomModelClassfactory should not check for valid versions. Thanks to Ambassador Software Works for reporting. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/222/">222</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Allow to unregister/unbind applications from ApplicationRouter. Thanks to Mathieu for the proposal. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/feature-requests/89/">89</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Make default acknowledgement code configurable in ApplicationRouterImpl. With thanks to Jens Villadsen. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/feature-requests/87/">87</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Throw new TimeoutException (subclass of Hl7Exception) is HL7 server fails to answer. With thanks to Jens Villadsen. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/feature-requests/86/">86</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add type parameter to ReceivingApplication. With thanks to Jens Villadsen. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/feature-requests/85/">85</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Improve exception message. Thanks to DiGiT for reporting. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/216/">216</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix CustomModelClassFactory implementation, returning the correct message structure. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/213/">213</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>HapiContext now supplies a default Server Configuration, which prevents an 
            	unrelated error from showing up in logs if an unparseable message is received.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr></table></section><section>
<h3 id="a2.2">Release 2.2 &#x2013; 2014-03-04</h3>
<table border="0" class="table table-striped">
<tr class="a">
<th>Type</th>
<th>Changes</th>
<th>By</th></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>XML Parsing now also works if the HL7v2 XML namespace is not the default namespace 
				(i.e. tags have namespace prefixes). Thanks to Eugene Berman for reporting!. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/176/">176</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix issue where HohRawClientMultithreaded (HL7 over HTTP Multithreaded Client)
	         	fails to reconnect automatically when the server side unexpectedly closes
	         	the connection. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/180/">180</a>.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Correct a crash when using CanonicalModelClassFactory with a fixed message class (not version)
				and parsing a message containing unexpected/custom Z segments. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/182/">182</a>.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Modify ExtendedMinLLPWriter (a part of the ExtendedMinLowerLayerProtocol LLP implementation)
				so that it doesn't flush the network buffer between the LLP start block and the 
				actual message (causing issues transmitting messages to some Websphere implementations). 
				Thanks to Chris Stoten of UHN for all of the hard work in getting this figured out.</td>
<td><a href="team-list.html#Chris Stoten">Chris Stoten</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>HL7 over HTTP relay now adds its own product name to any error messages it
				returns in a NAK message, so that it is easier when troubleshooting to distinguish
				a NAK which is coming back from the destination system vs. a NAK which is generated
				by the relay itself (e.g. because the destination is unreachable).</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix the "xsdconfgen" Maven plugin so that it adds generated artifacts to the 
				current build as resources instead of compile sources.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix a minor issue in the HAPI bootstrap process where a classpath inputstream
				wasn't closed properly, leading to weird artifacts in logs when HAPI based applications
				are redeployed on some application servers (e.g. Glassfish 3.x). Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/179/">179</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Correct an issue in hapi-hl7overhttp where the HOH Server implementations incorrectly
				fail to detect the content type if the charset isn't specified by the client.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Added methods to HapiContext and ConnectionHub that allow to lazily create a
                client connection, i.e. the physical connection is established only right
                before the first message is sent over it. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/feature-requests/80/">80</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Correcting a bug in the HL7 over HTTP client code where GZipped
            	HTTP responses are not properly interpreted as being GZipped. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/183/">183</a>.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Reimplemented MinLLP readers and writers. MSH-18 handling is configured by the
                parameter in the constructor MinLowerLayerProtocol(boolean).
                ExtendedMinLowerLayerProtocol has been deprecated. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/feature-requests/76/">76</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Correct an issue with the HL7 over HTTP Relay where concurrent messages
                being relayed at the same time may result in misdirected ACK responses. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/186/">186</a>.</td>
<td><a href="team-list.html#Anthony Rakic">Anthony Rakic</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add a new convenience method to text primitives (ST, TX, etc.) called "getValueOrEmpty()"
                which returns an empty string instead of null, and modify ID and IS to use the
                AbstractTextPrimitive base class so that they can take advantage.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix a typo in AbstractValidationExceptionHandler, where "info" severity
                exceptions aren't handled. Thanks to Brennan O'Banion for reporting and
                submitting a fix. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/190/">190</a>.</td>
<td><a href="team-list.html#Brennan O&apos;Banion">Brennan O'Banion</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>HL7 over HTTP client now properly respects "Connection=close" header in responses</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add a new method to HapiContext, getServerConfiguration. This method returns
                a configuration bean, much like getParserConfiguration() which can be used to
                configure receiving servers created by the given context.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add a configuration option to the new ServerConfiguration bean which sets the policy
           		for how to handle exceptions thrown by receiving applications. This can be used to 
           		configure HAPI to not send a response message back, which can be useful when dealing
           		with problematic legacy systems.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix exception when HL7 over HTTP servlet receives message larger than 4K. Thanks to
                Paul Schwartz for contributing a bug report and pinpointing the cause. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/191/">191</a>.</td>
<td><a href="team-list.html#Paul Schwartz">Paul Schwartz</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix problem where Superstructures (such as 
            	
            	<a href="./v25/apidocs/ca/uhn/hl7v2/model/v25/message/ADT_AXX.html">this one</a>
            	
            	) do not support all of the types they should. For example, ADT_AXX would allow an
            	ADT^A04 message to parse, but not an ADT^A01. This is now fixed. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/192/">192</a>.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix an issue where the XML parser ignores "extra components", unlike the Pipe parser.
            	For example, if a CX.4 element is found within a CX field, the XML parser would not
            	grab its contents. This is now corrected. Thanks to Ryan Baldwin for
            	the diagnosis. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/199/">199</a>.</td>
<td><a href="team-list.html#Ryan Baldwin">Ryan Baldwin</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>HL7 over HTTP client now comes with several configuration options to
            	set the socket properties (SO_timeout, Keepalive, etc.)</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>HL7 over HTTP relay now mentions itself in NAK messages it generates (which makes it
            	easier to tell if a NAK is coming from the relay because it couldn't reach its target,
            	or if the NAK is actually from the target). Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/feature-requests/77/">77</a>.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add two new methods to ParserConfiguration which allow the disabling of
            	whitespace trimming at the individual node level, and on a global level. This
            	configuration replaces the "setKeepAsOriginalNodes" method on the XMLParser, which
            	is somewhat confusingly named. Thanks to Ryan Baldwin for help in diagnosing the
            	need for this.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix an issue where the XML parser incorrectly encodes text values which contain an
            	escape sequence (e.g. \E\) at the very end of the value. Thanks to Ioan Salau for reporting!. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/202/">202</a>.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Make HL7 escaping strategy configurable over ParserConfiguration API</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>HapiContext now implements Closeable. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/193/">193</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Apply visitor pattern to message validation: a message can be validated by
                letting a MessageVisitor traverse the message and collect potential problems</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Allow HL7 over HTTP Relay users to set the read timeout on connections</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix a regression in HAPI 2.2-beta1 which caused the first portion of a received message
                to be processed as a complete message when the reading socket times out part way through the
                message. This issue does not affect previous versions of HAPI. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/206/">206</a>.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>HL7 over HTTP implementation updated to match specification changes by HL7 ITS WG: 
                HL7 responses always use HTTP 200, UTF-8 is default (and changing it is deprecated)</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr></table></section><section>
<h3 id="a2.1">Release 2.1 &#x2013; 2013-03-21</h3>
<table border="0" class="table table-striped">
<tr class="b">
<th>Type</th>
<th>Changes</th>
<th>By</th></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>HAPI is now able to work without any structure JARs for basic tasks, and can
            	process unknown versions of HL7 (e.g. 2.99) if configured to allow this.
            	See
            	
            	<a href="http://hl7api.sourceforge.net/apidocs/ca/uhn/hl7v2/parser/GenericModelClassFactory.html">GenericModelClassFactory</a>
            	
            	for more information. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/155/">155</a>.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fixed incorrect trimming rule for TX. Thanks to Søren Therkildsen for reporting. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3590954">3590954</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fixed incorrect generation of ACK messages for HL7 versions newer
            	than 2.4. Thanks to Anne-Gaelle for reporting. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3571839">3571839</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>ModelClassFactory define their own event map location, where the
        		mapping between event and message structure is defined.
        		Compatibility notice: Parser.getMessageStructureForEvent is not static anymore
        		and was deprecated. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3570493">3570493</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fixed bug in DefaultXMLParser. Thanks to Leo Marcov for reporting. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=1834598">1834598</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Deprecated LowerLayerProtocol.makeLLP as there is now the choice
            	between MinLowerLayerProtocol and ExtendedMinLowerLayerProtocol. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3552470">3552470</a>.</td>
<td><a href="team-list.html#Jens Villadsen, Christian Ohr">Jens Villadsen, Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>ValidationContext can now be more conveniently configured using
        		ValidationRuleBuilders. All predefined ValidationContext classes have
        		been reimplemented to be defined by such builders.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>HapiContext becomes the unique source of configuration. Changing a
            	context object immediately changes the configuration of all connected
            	parsers, servers etc. Message-specific ValidationContext has been
            	deprecated and will be removed in the next version. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3564428">3564428</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>XML Parser is now able to handle escape sequences that are relevant for
            	XML encoding when parsing and rendering. Thanks to Alberto Saez Torres
            	for reporting. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3515725">3515725</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Introduced HapiContext, which aggregates most of the configuration and allows
            	to instantiate correspondingly configured HAPI services 
            	(parsers, validators, servers, ...). Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3515833">3515833</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>All XML processing is based on DOM Level 3 and uses the standard libraries, 
				which are included in JRE 5 and newer.
				Therefore, no external XML-related libraries are required anymore.
				<br><br>
				The default XML implementation can be overridden this by setting the system property 
				<code>org.w3c.dom.DOMImplementationSourceList</code> 
				to the external DOM implementation and
				<code>org.xml.sax.driver</code> 
				to an external SAX implementation. 
				<br><br>
				When Xerces 2.11 is used as
				external XML processor library, 
				<code>org.w3c.dom.DOMImplementationSourceList</code> 
				must be
				set to 
				<code>org.apache.xerces.dom.DOMXSImplementationSourceImpl</code> 
				and 
				<code>org.xml.sax.driver</code>
				must
				be set to 
				<code>org.apache.xerces.parsers.SAXParser</code>. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3515828">3515828</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Added a set of new message ID generators, to be centrally configured using the
				ParserConfiguration class. Provides non-persistent generators and the
				possibility to plug in custom ID generators. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3515832">3515832</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Make Message Validation more versatile by adding a ValidationExceptionHandler
				that is called on every violation of a validation rule. A new implementation
				of such a handler (RespondingValidationExceptionHandler) is capable of creating
				response messages based on the validation result. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3494927">3494927</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Minor API enhancements:
        		
        		<ul>
        			<li>
        				ConnectionHub has a new factory method which accepts an LLP instance but
        				does not require a boolean flag to indicate whether TLS is being
        				used (added for consistency with other methods).
        			</li>
        			<li>
        				A number of internal log statements which are only really useful
        				if you are familiar with HAPI internals have been changed from
        				DEBUG level to TRACE level, to make debug level logging easier 
        				to understand.
        			</li>
        			<li>
        				Service classes (such as SimpleServer) now have a startAndWait() method
						which doesn't return until the service has successfully started
        			</li>
        			<li>
        				When GenericParser parses a message, the 
						<a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/model/Message.html#getParser()">Parser</a>
        				instance associated with the message is set appropriately to either the
        				Pipe Parser or the XML Parser. This means that calls to
        				generateAck().encode()
        				will generate a message with the appropriate encoding. 
        			</li></td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>AbstractMessage#generateAck()
        		now sets the Parser instance associated with the generated Ack message to 
        		be the same instance as its own instance. This means for instance that if a
        		message is parsed from an XML message, the same XML parser will be associated
        		with the generated ACK.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Prevent UnsupportedOperationException when AbstractType#toString() is called on a message
            	that was parsed by an XML parser (for instance on an ST, or another datatype).</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td><a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/app/ConnectionHub.html">ConnectionHub</a>
            	and
            	<a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/app/SimpleServer.html">SimpleServer</a>
            	now each accept a custom
            	<a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/util/SocketFactory.html">socket factory</a>
            	instance, which can be used to allow custom configuration on sockets,
            	or special TLS configurations. This checkin also corrects an issue where the
            	"tls" parameter on ConnectionHub was not honoured. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3558687">3558687</a>.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix an issue parsing XML encoded messages where any segment groups with a four letter
            	name are ignored (e.g. the DIET group in an OMD_O01 message). Thanks to mmartin
            	for providing a test case demonstrating the issue!. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3566636">3566636</a>.</td>
<td><a href="team-list.html#mmartin (laguna27)">mmartin (laguna27)</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix an issue where SegmentFinder can't find PID2 within an A24 message.
            	Thanks to DiGiT for providing a working test case!. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/169/">169</a>.</td>
<td><a href="team-list.html#DiGiT">DiGiT</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td><a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/model/primitive/AbstractTextPrimitive.html#getValueAsHtml%28%29">AbstractTextPrimitive#getValueAsHtml()</a>
            	
            	now properly escapes HTML reserved characters:
            	<br/>
            	&lt; &gt; &amp;. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/166/">166</a>.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix an issue that prevented the sample code for
            	
            	<a href="http://hl7api.sourceforge.net/xref/ca/uhn/hl7v2/examples/CustomModelClasses.html">Custom Model Classes</a>
            	
            	from working properly. Thanks to Michael Connor for reporting. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/162/">162</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Allow messages which contain "choices" within their structures to 
				parse correctly. For example, the ORM_O01 v2.5 message has a structure
				called ORDER_DETAIL which can have any one of 6 different segments as
				its first segment. Previously HAPI treated all as required and 
				failed to correctly parse in many cases. 
				
				Thanks to Paulo Ferreira for reporting!. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/159/">159</a>.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>v2.3 structure for ORC-14 is correctly set to XTN datatype (was previously TN). Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/95/">95</a>.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Improve error message in
            	
            		<a href="http://hl7api.sourceforge.net/apidocs/ca/uhn/hl7v2/llp/ExtendedMinLowerLayerProtocol.html">ExtendedMinLowerLayerProtocol</a>
            	 
            	when an incoming
            	message can't be processed because it contains an invalid MSH segment.
            	Thanks to Jens Villadsen for reporting!. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/134/">134</a>.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Allow
				
            		<a href="http://hl7api.sourceforge.net/apidocs/ca/uhn/hl7v2/protocol/ReceivingApplicationExceptionHandler.html">ReceivingApplicationExceptionHandler</a>
            	 
				to process exceptions even when un-parseable messages are received. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/123/">123</a>.</td>
<td><a href="team-list.html#Nicolas Lefebvre">Nicolas Lefebvre</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>New parser configuration option for customizing
				
            		<a href="http://hl7api.sourceforge.net/apidocs/ca/uhn/hl7v2/parser/ParserConfiguration.html#setUnexpectedSegmentBehaviour(ca.uhn.hl7v2.parser.UnexpectedSegmentBehaviourEnum)">Unexpected segment (e.g. Z-segment) behaviour</a>
            	 
				in terms of where in the structure the segment gets placed. Thanks to Michael Connor for
				suggesting this!. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/feature-requests/64/">64</a>.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Prevent eventmap from containing structure mappings that shouldn't exist
				because the source structure exists. For example, in v2.3.1 there should not
				be a mapping from ADT_A34 to ADT_A30, because there is a structure for
				ADT_A34 itself. Thanks to hirion86 for reporting this!. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/67/">67</a>.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Correct unhelpful error logging in HohRawServlet when the HL7 over HTTP
            	servlet has an error decoding a request. Thanks to Giacomo Petronio for
            	reporting and providing a fix!. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/feature-requests/75/">75</a>.</td>
<td><a href="team-list.html#Giacomo Petronio">Giacomo Petronio</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Introduce new PipeParser
				
            		<a href="http://hl7api.sourceforge.net/apidocs/ca/uhn/hl7v2/parser/ParserConfiguration.html#setNonGreedyMode(boolean)">non-greedy mode</a>
            	 
            	which can be used to give the parser hints on how to 
            	proceed when the choice of where to put the next
            	segment is ambiguous between moving to a child group later in the
            	message structure or moving to a new repetition of a parent structure. 
				
            		<br/><br/>
            	 
            	Thanks to Pablo Pazos for reporting and providing a test case!. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/171/">171</a>.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Improve the documentation on the
            	 
            		<a href="hapi-sourcegen/confgen-usage.html">Maven Plugins</a>
            	
            	and introduce a new plugins for generating
            	 
            		<a href="hapi-sourcegen/superstructuregen-usage.html">Superstuctures</a>
            	
            	and
            	 
            		<a href="hapi-sourcegen/xsdconfgen-usage.html">XSDs</a></td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix a regression in 2.1-beta1 where DefaultXMLParser would not encode
            	correctly on certain environments because of an error relating
            	to XML "pretty print" support. 
            	 
            		<br/><br/>
            	
            	As a part of this fix, a new ParserConfiguration option has also been
            	added to optionally disable pretty printing if desired. Thanks Steffan Rachner
            	for reporting!. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/172/">172</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr></table></section><section>
<h3 id="a2.0">Release 2.0 &#x2013; 2012-07-16</h3>
<table border="0" class="table table-striped">
<tr class="b">
<th>Type</th>
<th>Changes</th>
<th>By</th></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td><i>Regression in 2.0-beta1:</i> 
				
        		Fix issue where occasionally a Connection which is
        		sending a message would ignore an ACK/response message it received and report 
        		that the send timed out.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>HAPI has now switched from CVS to Subversion for version control purposes. The new repo 
        	can be accessed at:
				
	            	<a href="https://hl7api.svn.sourceforge.net/svnroot/hl7api">https://hl7api.svn.sourceforge.net/svnroot/hl7api</a>
				
			The old CVS repo will be kept around for now, just in case it is needed.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Refactored large parts of the networking functionality in the ca.uhn.hl7v2.app package. Most
				notably, an ExecutorService instance can be injected to customize the threading behavior. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3388301">3388301</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Make TestPanel more usable. Amongst other changes, it's now possible to load HL7 messages 
				directly from a file and to reuse client-side connections even when the MLLP server was 
				restarted in the meanwhile. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3421082">3421082</a>.</td>
<td><a href="team-list.html#Christian Ohr / James Agnew">Christian Ohr / James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Convert HAPI to use the 
				
	            	<a href="http://www.slf4j.org/">SLF4J</a>
				
        		logging framework in place of Apache Jakarta Commons-Logging (JCL). SLF4J is 
        		conceptually similar to JCL, in that it is a wrapper around an underlying 
        		framework of your choice (e.g. log4j, java.util.Logger, etc.). It brings a number
        		of modern features with it, such as parameterized entries and NDCs, and uses a
        		less confusing discovery process.
				<br><br>
				Applications which use HAPI will now need to add the "slf4j-api.jar" JAR to their
				classpath, as well as a second JAR such as "slf4j-log4j12.jar" which instructs SLF4J
				which underlying log framework to use. These two dependencies have been added to the
				hapi-base pom.xml, so Maven users will see this change automatically.
				<br><br>
        		In addition, HapiLog has been deprecated. HapiLog was used as a logging system prior to
        		the introduction of commons-logging into HAPI. It is no longer referenced by any
        		part of HAPI itself, and will be removed at some point in the future. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3421083">3421083</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add new method to group and message structure classes that returns all repetitions
        		of repeatable children as a typed List. This is useful for quickly and easily
        		iterating over structures within a message.
        		<br/><br/>
        		For example, ADT_A01 has a repeatable OBX segment. It is now possible to access it
        		in three ways:
        		
        			<ul>
        				<li><a href="http://hl7api.sourceforge.net/v26/apidocs/ca/uhn/hl7v2/model/v26/message/ADT_A01.html#getOBX()">OBX getOBX()</a>, which returns the first repetition, creating it if neccesary
        				<li><a href="http://hl7api.sourceforge.net/v26/apidocs/ca/uhn/hl7v2/model/v26/message/ADT_A01.html#getOBX(int)">OBX getOBX(int rep)</a>, which returns a specific repetition
        				<li><a href="http://hl7api.sourceforge.net/v26/apidocs/ca/uhn/hl7v2/model/v26/message/ADT_A01.html#getOBXAll()">List&lt;OBX&gt; getOBXAll()</a>, which returns all repetitions (or an empty list if there are none)
        			</ul></td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add a new LowerLayerProtocol implementation which respects MSH-18 (Character Set)
        		values to determine the underlying transport character set. See
        		
        		<a href="/xref/ca/uhn/hl7v2/examples/HandlingCharacterEncodings.html">here</a>
        		
        		for an example.
        		<br><br>
        		In addition, 
        		
        		<a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/llp/MinLowerLayerProtocol.html">MinLowerLayerProtocol</a>
        		
        		has received a new constructor which accepts a CharSet as a parameter, meaning
        		that individual LLP instances may have their CharSet specified, as opposed to
        		using a global
        		
        		<a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/llp/MinLLPReader.html#CHARSET_KEY">System Property</a>
        		<br><br>
        		
        		Note that a dependency existed in HAPI 2.0-beta1 on XML libraries being
        		present on the classpath. This has been corrected in HAPI 2.0. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3518763">3518763</a>.</td>
<td><a href="team-list.html#Jens Kristian Villadsen">Jens Kristian Villadsen</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Modernize a bunch of the code base to add proper generics support.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fixed a race issue that starts the Receiver thread before an Application instance is attached.
				On the client side, when you don't use the ConnectionHub (you should!), make sure to call Connection#activate() 
				before sending messages. On the server-side, this is done automatically. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3001226">3001226</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Correct an integer overflow issue when
        		
        		<a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/model/primitive/CommonTS.html#setValue(java.util.Calendar)">CommonTS#setValue(Calendar)</a>
        		 
        		is invoked with a calendar containing some high
        		timezone offset values. Thanks to Jason Thompson for reporting and
        		providing a fix. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3410095">3410095</a>.</td>
<td><a href="team-list.html#Christian Ohr / Jason Thompson">Christian Ohr / Jason Thompson</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td><a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/model/primitive/CommonTS.html#getValueAsCalendar()">CommonTS#getValueAsCalendar()</a>
        		
        		now sets the TimeZone associated with the returned Calendar object to have a TZ-offset equivalent to the
        		offset provided in the raw HL7 data (e.g. if the value was "201201010800-0400", Calendar.setTimeZone(TimeZone) will be called with
        		a timezone containing GMT-4:00). 
        		
        		<br><br>
        		
        		This prevents issues when parsing times in a locale with Daylight Savings Time outside of
        		the current DST window, such as parsing 201201010800-0400 in Toronto in June, when the DST offset is actually -0500.  
        		
        		<br><br></td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Correct several minor issues with CommonTS and TSComponentOne. Specifically:
        		
        		<ul>
        			<li>
        				Allow setValue(String) to work correctly if the previous value was 
        				invalid (instead of throwing a DataTypeException).
        			</li>
        			<li>
        				getValueAsDate() and getValueAsCalendar() now return null if the
        				field contains null, instead of throwing a NullPointerException.
        			</li></td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>A new configuration bean,
        		
        		<a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/parser/ParserConfiguration.html">ParserConfiguration</a>
        		
        		has been added which allows the parser to be configured
        		for specific behaviour.
        		
        		<a href="configuring_hapi.html">See here</a>
        		
        		for more information.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add a new method to 
        		
        		<a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/util/Hl7InputStreamMessageStringIterator.html">Hl7InputStreamMessageStringIterator</a>
        		
        		and
        		
        		<a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/util/Hl7InputStreamMessageIterator.html">Hl7InputStreamMessageIterator</a>
        		
        		called setIgnoreComments(boolean) which allows the iterator to
        		ignore lines beginning with a hash (#). This allows you to put
        		comments in files being read by these classes.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Correct two issues with 
        		
        		<a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/model/AbstractPrimitive.html#parse(java.lang.String)">AbstractPrimitive#parse(String)</a>
        		
        		This is the method which is used (for example)
        		if parse is called on an ST type. Previously if an escape sequence (e.g. "Snakes \T\ Ladders") was 
        		passed into this method, it would appear double-escaped when the message was re-encoded, giving
        		a string such as "Snakes \E\T\E\ Ladders". In addition, if this method was called and the string
        		passed in contained a field delimiter (generally "^") this would lead to an IllegalArgumentException
        		in some cases. Thanks to Diederik Muylwyk for reporting this and providing a test case!</td>
<td><a href="team-list.html#Diederik Muylwyk">Diederik Muylwyk</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Allow conformance profile structure generator to handle ID and IS type definitions with namespaced 
        		table numbers (e.g. IHE0155). These are now generated as special subclasses of 
        		ID 
        		and 
        		IS
        		, called 
        		IDWithNamespace
        		and 
        		ISWithNamespace 
        		respectively. These types have a method, getTableNamespace() which retrieves the non
        		numeric part of the table name. Fixes <a class="externalLink" href="https://sourceforge.net/p/hl7api/bugs/124/">124</a>.</td>
<td><a href="team-list.html#Eric Poiseau">Eric Poiseau</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add a new method to 
        		Parser, 
        		parseForSpecificPackage, 
        		which parses messages using structure classes
        		found in a particular package instead of using the built in HAPI defaults.</td>
<td><a href="team-list.html#Nicolas Lefebvre">Nicolas Lefebvre</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>HL7 escape sequences, such as \X0000\, \H\, and \N\ are all now correctly handled
        		when they are parsed and encoded. Previously, if one of these sequences were found within
        		a field in a parsed message, they would be incorrectly encoded when the message was
        		re-encoded. Thanks to anonymous bug poster for reporting this and providing a working
        		test case!. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3323850">3323850</a>.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>String structure types (ST, FT, TX) now have a new method
				
					<a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/model/primitive/AbstractTextPrimitive.html#getValueAsHtml()">getValueAsHtml()</a>
				
				which converts any HL7 formatting codes (\H\, \.sp 55\, \.ce\, etc.) in the string to their HTML equivalent. This 
				functionality can also be used to convert any other string containing HL7 formatting codes to the
				equivalent HTML codes using:
				
					<a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/model/primitive/FormattedTextEncoder.html">FormattedTextEncoder</a></td>
<td><a href="team-list.html#Neal Acharya">Neal Acharya</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Calling 
				stop() 
				on 
				HL7Server 
				should also request that any processors which are active for that server stop as well. 
				This prevents stray worker threads from staying alive and cluttering application logs 
				after the server is stopped.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Minor API changes:
				
					<ul>
						<li>Add a new method to Connection, <a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/app/Connection.html#getRemotePort()">getRemotePort</a>, which returns the port number of the remote socket the connection is bound to.</li>
						<li>Add several new factory methods to <a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/app/ConnectionHub.html">ConnectionHub</a> which allow creating a new connection using an instantiated instance of a LowerLayerProtocol implementation instead of just supplying a type to be instantiated by ConnectionHub</li>
						<li>Add new method to <a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/app/SimpleServer.html>SimpleServer</a> and <a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/app/TwoPortService.html">TwoPortService</a> called <a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/app/concurrent/Service.html#getServiceExitedWithException()">getServiceExitedWithException()</a>. In the event that the service exits unexpectedly, this method allows you to retrieve the exception which caused the failure (e.g. a <a href="<a href="http://docs.oracle.com/javase/6/docs/api/java/net/BindException.html">BindException</a> in the event that the port was already in use by another application).</li>						
						<li>Modify Conformance Profile <a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/conf/check/DefaultValidator.html">DefaultValidator</a> so that it can be used to validate individual parts of a message (e.g. only one segment, group, etc.) and not just the entire message</li>						
					</ul></td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td><a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/model/Message.html#parse(java.lang.String)">Message#parse(java.lang.String)</a>
				
				and
				
					<a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/model/Message.html#encode()">Message#encode()</a>
				
				now work correctly when the message parser is an XML based parser. Previously
				these convenience methods only worked for Pipe parsers.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td><a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/model/Message.html#generateACK()">Message#generateACK()</a>
				
				now respects the ModelClassFactory used to build/parse the message from which the ACK is being generated. This means
				for example that if a CanonicalModelClassFactory is used to construct a message, that same CMCF will be used to
				generate its ACK. Thanks to Rahul Somasunderam for reporting this and providing a workaround!. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3471571">3471571</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>The "Source" and "Javadoc" JAR bundles are once again being built and can be
        		downloaded along with the library JARs themselves.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add a system property to 
				
					<a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/util/MessageIDGenerator.html#NEVER_FAIL_PROPERTY">MessageIDGenerator</a>
				
				which prevents it from failing if it is unable to read or write the message file. (Not that this feature
				sometimes failed to work in 2.0-beta1. This has been corrected.)</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>MessageIDGenerator has been modified so that it will never fail in the
				event of a problem reading or writing a file. This should help with
				unpredictable failures when id_file permissions get messed up or
				id_file gets corrupted.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Correct an issue with the new ForcedEncode mode where for instance
				"PID-11-7" is read as "PID-1-7" and then incorrectly encoded. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3472728">3472728</a>.</td>
<td><a href="team-list.html#mblanchette">mblanchette</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Prevent incorrect segment repetition number from appearing in 
				validation failure exception messages. Thanks to Rahul for providing a
				report with a working test case. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3471934">3471934</a>.</td>
<td><a href="team-list.html#Rahul Somasunderam (Certify)">Rahul Somasunderam (Certify)</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Provide the
				
					<a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/validation/impl/DefaultValidationWithoutTN.html>DefaultValidationWithoutTN</a>
				  
				class for default validation without the TN rule which is specific for U.S. phone numbers.
				In this context, adding RuleBindings to the ValidationContext has been made type-safe. A minor API
				change was necessary: RuleBindings require dedicated Rule types for initialization. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=2793050">2793050</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>MessageTypeRouter calls Application#canProcess method of selected application before
				delegating message handling. Thanks for submitting a patch. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3520790">3520790</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>DTM/TSComponentOne did not allow hour-precision timestamps as defined as of HL7 v2.5. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3519668">3519668</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>DTM contained non-serializable primitives (CommonTS, CommonTM, CommonDT). 
				Thanks to Guillaume (gga11729) for reporting. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3532775">3532775</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>XMLParser now uses custom ModelClassFactory if provided. 
				Thanks to Stephen Doxsee for reporting. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3530793">3530793</a>.</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Calling AbstractPrimitive#parse(String), for instance on an ST datatype,
				with a value of null now clears the value instead of throwing a NullPointerException. This
				brings the behaviour in line with that of AbstractComposite#parse(String)</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td><a href="http://hl7api.sourceforge.net/v26/apidocs/ca/uhn/hl7v2/model/v26/message/RSP_K21.html">RSP_K21</a>
				
				structure for v2.5.1 and v2.6 now has a repeatable QUERY_RESPONSE group. This 
				addresses an inconsistency in the HL7 specification for those two versions.
				Thanks to Jens Villadsen for reporting. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3520523">3520523</a>.</td>
<td><a href="team-list.html#Jens Villadsen">Jens Villadsen</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td><a href="http://hl7api.sourceforge.net/v251/apidocs/ca/uhn/hl7v2/model/v251/message/ORL_O34.html">ORL_O34</a>
				
				structure for v2.5.1 has two child structures with the same name (SPECIMEN). The second is now
				named OBSERVATION_REQUEST_SPECIMEN to prevent a recursive loop when parsing an ORL^O34
				message. Thanks to Jure Grom for reporting. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3538074">3538074</a>.</td>
<td><a href="team-list.html#Jure Grom">Jure Grom</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td><a href="http://hl7api.sourceforge.net/v25/apidocs/ca/uhn/hl7v2/model/v25/message/ORL_O34.html">ORL_O34</a>
				
				structure for v2.5 is missing an outer group called RESPONSE. This group contains only one
				nested group, so it doesn't do much but its absence could affect XML encoding.
				Thanks to Eric Poisseau for reporting. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3373654">3373654</a>.</td>
<td><a href="team-list.html#Eric Poisseau">Eric Poisseau</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td><a href="http://hl7api.sourceforge.net/v23/apidocs/ca/uhn/hl7v2/model/v23/segment/MRG.html">MRG</a>
				
				segment for v2.3 should have type XPN in position MRG.7 (Prior Patient Name) instead of type CX.
				Thanks to Fco. Javier Broullón for reporting. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3454369">3454369</a>.</td>
<td><a href="team-list.html#Fco. Javier Broullón">Fco. Javier Broull&#xf3;n</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td><a href="http://hl7api.sourceforge.net/v23/apidocs/ca/uhn/hl7v2/model/v23/segment/PID.html">PID</a>
				
				segment for v2.3 should allow repeatable elements in PID-5 (Patient Name).
				Thanks to Stéphane for reporting. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=2864817">2864817</a>.</td>
<td><a href="team-list.html#Stéphane">St&#xe9;phane</a></td></tr></table></section><section>
<h3 id="a1.2">Release 1.2 &#x2013; 2011-06-26</h3>
<table border="0" class="table table-striped">
<tr class="b">
<th>Type</th>
<th>Changes</th>
<th>By</th></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix one regression in HAPI 1.2-beta1, where a group containing at least one
            	mandatory segment would sometimes be encoded as an empty segment 
            	even if no content was added to it.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add two new system properties which allow OBX segments messages to be parsed
            	even if they are either missing, or have an invalid value in OBX-2 (which defines
            	the datatype used in OBX-5).
				
	            	<a href="./xref/ca/uhn/hl7v2/examples/ParseInvalidObx2Values.html">More information</a></td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add new utility classes for iterating over 
            	a file containing multiple
            	ER7 encoded HL7 messages. 
				
	            	<a href="./xref/ca/uhn/hl7v2/examples/ReadMessagesFromFile.html">See example</a></td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix an issue where calling 
				
    	        	<a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/model/AbstractPrimitive.html#parse(java.lang.String)">AbstractPrimitive#parse(String)</a>
				
            	(for example on an ST datatype) 
            	would not clear pre-existing 
				
        	    	<a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/model/Type.html#getExtraComponents()">extra components</a>
				
            	if any were defined.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>When encoding a group using the PipeParser where the first segment is required, but no data has been populated in that segment, 
            	the empty segment is now still encoded if needed as a blank segment in order to give parsers a hint about which 
            	group further segments are in. This helps to ensure that messages can be "round tripped", meaning that
            	a message which is parsed, encoded, and then re-parsed should contain exactly the same structure from
            	beginning to end. 
            	For example, in an ORU^R01 message with a populated OBX segment, but no data
            	in the mandatory OBR segment which begins the ORDER_OBSERVATION group (see 
            	<a href="http://hl7api.sourceforge.net/v26/apidocs/ca/uhn/hl7v2/model/v26/group/ORU_R01_ORDER_OBSERVATION.html">reference</a>),
            	the message would still contain an empty OBR segment when encoded:
				
<pre>
	MSH|^~\&|REG|W|||201103230042||ORU^R01|32153168|P|2.5
	OBR|
	OBX||ST|||Value Data
</pre>
				
				Previously, the following encoding would have occurred, which would have incorrectly been parsed as
				having a custom OBX segment instead of having a normal ORDER_OBSERVATION group: 
				
<pre>
	MSH|^~\&|REG|W|||201103230042||ORU^R01|32153168|P|2.5
	OBX||ST|||Value Data
</pre></td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td><a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/model/Group.html">Group</a>
            	interface now has a new method: isGroup(String). This method allows callers to determine
            	if a child structure is a segment or a group. The only provided implementation, AbstractGroup,
            	implements this method, so the API change should not have any effect on users.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Restore missing get[FIELD_NAME]Reps() methods from segments. These were accidentally removed
            	with the conversion to a Velocity based structure generator, but they have now been
            	restored.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Avoid a NullPointerException if a null value is passed into the "setValue(Date)" or 
            	"setValue(Calendar)" methods on a DT, TS, or TM datatype. Passing in a null now
            	simply clears any existing value, bringing these methods in line with
            	the behaviour of the "setValue(String)" method. 
            	Thanks to Michael for reporting!. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3303344">3303344</a>.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix potential race condition when using ConnectionHub in a multithreaded
            	environment. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3307882">3307882</a>.</td>
<td><a href="team-list.html#Stephane Giner">Stephane Giner</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Avoid line wrapping when XML encoding messages using the XMLParser. This means
            	that values with very long strings won't have unexpected breaks added when
            	they are encoded and re-parsed. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3308845">3308845</a>.</td>
<td><a href="team-list.html#Axel Biernat">Axel Biernat</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Correct issue where extra components in primitive types within OBX-5 appear twice when
            	message is re-encoded. This is useful, for example, if you are receiving messages
            	from a system which is not correctly escaping ampersands or carats within
            	an OBX-5 value. Prior to chis change, a message containing the following
            	segment:
				
<pre>
   OBX||ST|||F1C1^F2C1&F2C2
</pre>
				
            	Would be re-encoded as:
				
<pre>
   OBX||ST|||F1C1&F2C2^F2C1&F2C2
</pre>
				
				Thanks to Andbuty Choy for finding this.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Prevent MessageIDGenerator (used to generate message control IDs for ACK messages, for example in SimpleServer)
            	from throwing an exception if it is not able to parse the value found in id_file. Previously if something
            	went wrong and this file was blank, a hard to debug exception was thrown. Now, control ID sequencing is simply
            	reset to zero. Thanks to an anonymous bug submittor. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3306358">3306358</a>.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix an issue where inserting/removing a repetition of the very last field in a segment
            	fails due to an incorrect range check in AbstractSegment. Thanks Rodolfo for submitting!. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3264566">3264566</a>.</td>
<td><a href="team-list.html#Rodolfo Chavez">Rodolfo Chavez</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Where multiple structures are marked as associated with the same trigger event 
            	(example: ORN_O02 and ORR_O02 are both indicated as matching trigger ORR^O02) the
            	parser will favour the structure whose name matches the event type and trigger (ORR_O02 in the
            	previous example) when parsing a message with no structure explicitly defined in MSH-9-3. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3212931">3212931</a>.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix an issue where subcomponents within a Varies (OBX-5) value are incorrectly handled. For example,
            	if OBX-2 specifies a composite type, and the first component is also a composite, the first subcomponent
            	(represented by the text F1C2 below) would be lost.
				
<pre>
	OBX||AD|||F1C1&F1C2^F2C1
</pre></td>
<td><a href="team-list.html#Ryan W. Gross">Ryan W. Gross</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Correct a PipeParser parsing issue: When a message is being parsed which contains 
            	multiple unexpected segments, any unexpected segments after the first one may appear
            	out of order if the message is re-encoded.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr></table></section><section>
<h3 id="a1.1">Release 1.1 &#x2013; 2011-03-28</h3>
<table border="0" class="table table-striped">
<tr class="a">
<th>Type</th>
<th>Changes</th>
<th>By</th></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>HAPI libraries are now available in the Maven Central Repo. Thanks to Francis De Brabandere for figuring out how to make this happen!</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>(Regression in 1.0-beta1) Some structures contained incorrect version information which led to inability to parse Z segments</td>
<td><a href="team-list.html#Christian Ohr">Christian Ohr</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Message types now have a convenience method initQuickstart which sets default values to MSH segment (field separator, message type, etc)</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>HAPI now has a Maven plugin which generates Message/Group/Segment struxctures based on an HL7 conformance profile. See the <a href="http://hl7api.sourceforge.net/conformance.html">conformance</a> page for more information.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Allow users of HAPI SimpleServer to create an Application that handles errors. The provided patch adds an interface, which should be implemented by exception aware Applications. The application can then re-dispatch the provided ACK, or a create a completely new message. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3164756">3164756</a>. Thanks to Gabriel Landais.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Correct XML encoding of OMD_O03. (OMD_O03.DIET was incorrectly being encoded simply as "DIE"). Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3115671">3115671</a>. Thanks to Pepe Juarez.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Correct the spelling of the name TIMING in a number of group structures (e.g. OML_O21_TIMING which was previously OML_O21_TIIMING). Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3027567">3027567</a>. Thanks to Karl Weller.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/update.gif" alt="Update" title="Update" /></td>
<td>Update structure classes source generator to use an Apache Velocity based template instead of simple hard-coded string concatenation. This will make it much easier to add new features to the structures in the future.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/update.gif" alt="Update" title="Update" /></td>
<td>Message now has a method <a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/model/Message.html#printStructure%28%29">Message#printStructure()</a>, which returns a useful String for debugging containing a description of the entire structure of the message</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>GenericParser ignores custom ModelClassFactory implementations passed into its constructor. Thanks to John R for reporting.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>XML parser now parses subsequent datatype components correctly when a component is missing. E.g. if ED.1 is missing but ED.2 is present: Previously, ED.2 would be parsed as ED.1. Thanks to Yildiray Kabak.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Parsing OBX-5 failed when value (as indicated by OBX-2) was a type which requires a table number (IS or ID). HAPI now defaults to table 0. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3031998">3031998</a>. Thanks to Torsten from Agfa Healthcare.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Parsing OBX-5 failed when value (as indicated by OBX-2) was a type which requires a table number (IS or ID). HAPI now defaults to table 0. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3027567">3027567</a>. Thanks to Karl Weller.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Add check to ConnectionHub to avoid returning a connection which was explicitly closed. Also update "send and receive" example in documentation to show correct way of discarding a connection using ConnectionHub. Thanks to Kalle Eskola.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>HAPI now logs the current version as it is being initialized, for troubleshooting purposes.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add getters and setters to DT, TM, and TS data types to get and set values using standard Java Date and Calendar objects. (Examples <a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/model/primitive/CommonDT.html#getValueAsCalendar%28%29">here</a> and <a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/model/primitive/CommonDT.html#setValue%28java.util.Calendar%29">here</a>)</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add <a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/parser/PipeParser.html#getInstanceWithNoValidation()">factory method</a> to PipeParser which returns an instance with validation disabled (useful for one-liner parse routines)</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add <a href="http://hl7api.sourceforge.net/base/apidocs/ca/uhn/hl7v2/model/Varies.html#INVALID_OBX2_TYPE_PROP">system property</a> to allow OBX-2 to contain invalid values and still parse</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr></table></section><section>
<h3 id="a1.0.1">Release 1.0.1 &#x2013; 2010-05-16</h3>
<table border="0" class="table table-striped">
<tr class="b">
<th>Type</th>
<th>Changes</th>
<th>By</th></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Correct an issue where a NullPointerException occurs if a mandatory segment at the end of a message is not present. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=3002194">3002194</a>. Thanks to Irving Reid.</td>
<td><a href="team-list.html#null"></a></td></tr></table></section><section>
<h3 id="a1.0">Release 1.0 &#x2013; 2010-04-12</h3>
<table border="0" class="table table-striped">
<tr class="b">
<th>Type</th>
<th>Changes</th>
<th>By</th></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Correct regression introduced in 1.0-beta1 where a second segment within a group with the same name (i.e. the two PID segments in an ADT^A17) fails to parse correctly.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Provide default implementation of new abstract method "createNewTypeWithoutReflection" on AbstractSegment class to prevent breaking existing user defined types. Thanks to Christian Ohr for reporting.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/update.gif" alt="Update" title="Update" /></td>
<td>Clean up logging in ServerSocketStreamSource (used by HL7Server) so that it doesn't spew unneccesary logs while waiting for a connection</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/update.gif" alt="Update" title="Update" /></td>
<td>Remove all test suites (not tests, just the suites), as they cause maven to execute tests twice, and clean up test execution. Full test suie execution is down to ~90 seconds from 10 mins.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add two new ModelClassFactory implementations: <a href="base/apidocs/ca/uhn/hl7v2/parser/CanonicalModelClassFactory.html">CanonicalModelClassFactory</a> (always returns the same version), and <a href="base/apidocs/ca/uhn/hl7v2/parser/CustomModelClassFactory.html">CustomModelClassFactory</a> (provides easy way to use custom structure packages) Thanks to Christian Ohr, Niranjan Sharma.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix a bug where formatting escape sequences were stripped from messages (i.e. leave sequences such as /.br/ alone)</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Overhaul Escape class (handles HL7 escape sequences) to dramatically improve performance Thanks to Christian Ohr.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix NullPointerException in DefaultValidator when no table present for an ID datatype. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=1809573">1809573</a>. Thanks to Jan Klasser.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Allow parsing of unknown message types for 2.5.1 and 2.6 messages</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/update.gif" alt="Update" title="Update" /></td>
<td>Convert HAPI source version JDK 5.0. This allows the use (and begins a gradual conversion) to generics by HAPI's internal structures. Support for JDK1.4 will still remain through version specific JARs produced by RetroTranslator.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add getNames() method to Segment, to allow programatic access to segment's field names (needed by hUnit)</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix serialization of HAPI Message objects. Also added serialVersionUID to a number of core classes. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=1263250">1263250</a>. Thanks to Gerald Bortis, Christian Ohr.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix a memory leak in Escape.java when lots of different encoding chars are used Thanks to Chris Busch.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Modify ProcessorImpl (HL7Server processing class) to use an ExecutorService instead of spawning a new thread for each message to generate ACKs.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix XML parsing of seg groups containing more than one instance of the same segment (e.g. A17). Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=2164291">2164291</a>. Thanks to Gerald Bortis, Polloloco.</td>
<td><a href="team-list.html#null"></a></td></tr></table></section><section>
<h3 id="a0.6">Release 0.6 &#x2013; 2009-07-01</h3>
<table border="0" class="table table-striped">
<tr class="b">
<th>Type</th>
<th>Changes</th>
<th>By</th></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add constructors to all parser types allowing a custom model factory. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=2793054">2793054</a>. Thanks to Christian Ohr.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Fix XML parsing of seg groups containing more than one instance of the same segment (e.g. A17). Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=2164291">2164291</a>. Thanks to Gerald Bortis, Polloloco.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Added isRunning() method to SimpleServer Thanks to Peter Gershkovich.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add NULLDT datatype, to be used in withdrawn fields. Note that default validation expects this datatype to be empty, but custom validation does not need to enforce this.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add setEncoding method to XmlParser to allow text encoding to be specified when creating XML messages. In response to mailing list query from Fernando Ramírez Sánchez</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Add single argument constructor to ID datatype, to allow it to be used in OBX-5. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=1890219">1890219</a>. Thanks to Chris Horneck.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>New HAPI maven repository now available at http://hl7api.sourceforge.net/m2/</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Make PipeParser not crash on empty segments (meaning segments with just a segment name, no field separator or fields) Thanks to Fr&#xe9;d&#xe9;ric Dubru.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>NullPointerException if OBX-2 is invalid and OBX-5 is set. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=1662979">1662979</a>. Thanks to Greg Groves.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Parsing fails when (pipe) is used as non-field separator. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=1657929">1657929</a>.</td>
<td><a href="team-list.html#btripp">btripp</a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Allow Parser to accept a null ValidationContext, which will prevent any attempt at validating messages from being made.</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr>
<tr class="b">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Allow Parsers now get their default validation context from ValidationContextFactory if none is supplied Thanks to Andy Pardue.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/add.gif" alt="Add" title="Add" /></td>
<td>Allow A new system property (See Varies JavaDoc) may be specified to supply a default datatype to be assumed for OBX-5 if none is found in OBX-2. A missing OBX-2 is not a valid case, but this property would allow a user to work around problems receiving from a bad message source Thanks to Andy Pardue.</td>
<td><a href="team-list.html#null"></a></td></tr></table></section><section>
<h3 id="a0.5.1">Release 0.5.1 &#x2013; 2007-02-18</h3>
<table border="0" class="table table-striped">
<tr class="b">
<th>Type</th>
<th>Changes</th>
<th>By</th></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Remove JDK 5 dependency</td>
<td><a href="team-list.html#James Agnew">James Agnew</a></td></tr></table></section><section>
<h3 id="a0.5">Release 0.5 &#x2013; 2006-12-14</h3>
<table border="0" class="table table-striped">
<tr class="b">
<th>Type</th>
<th>Changes</th>
<th>By</th></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>hapi 0.4.3 Class Parser : Multi-threading conflict can occur. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=1557203">1557203</a>.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Unescaping in XMLParser.getCriticalResponseData(). Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=1547989">1547989</a>.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>PipeParser.getCriticalResponseData() does not use version. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=1539866">1539866</a>.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>NullPointerException on garbage messages. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=1539352">1539352</a>.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Class ExtraComponents not Serializable. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=1536231">1536231</a>.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>"I" instead of "PID" freezes the parser. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=1536200">1536200</a>.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>validation contexts are not used during parsing. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=1525034">1525034</a>.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Error generating error responses for XML messages. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=1525029">1525029</a>.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>SIU S12 Segment Issue. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=1482059">1482059</a>.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>DFT-P03 - incorrect message structure. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=1405670">1405670</a>.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>NM integer magnitude limited to java int. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=1377382">1377382</a>.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>ORU_R01_OBSERVATION incorrectly defined. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=1368028">1368028</a>.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>OBX-5 type assignment only operates on first rep. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=1284281">1284281</a>.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="b">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>Missing Code in Version 2.5. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=260957">260957</a>.</td>
<td><a href="team-list.html#null"></a></td></tr>
<tr class="a">
<td><img src="images/fix.gif" alt="Fix" title="Fix" /></td>
<td>ORL_O34 message incorrectly defined. Fixes <a class="externalLink" href="http://sourceforge.net/support/tracker.php?aid=1240698">1240698</a>.</td>
<td><a href="team-list.html#null"></a></td></tr></table></section></section>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2001&#x2013;2023
<a href="http://www.uhn.ca">University Health Network</a>.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    </body>
</html>
