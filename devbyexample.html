<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia Site Renderer 1.9.2 at 2023-10-30 
 | Rendered using Apache Maven Fluido Skin 1.6
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20231030" />
    <meta http-equiv="Content-Language" content="en" />
    <title>HAPI &#x2013; HAPI by Example</title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.6.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />
      <script type="text/javascript" src="./js/apache-maven-fluido-1.6.min.js"></script>
      </head>
    <body class="topBarDisabled">
      <div class="container-fluid">
      <div id="banner">
        <div class="pull-left"><a href="https://hapifhir.github.io/hapi-hl7v2" id="bannerLeft"><img src="images/hapi_banner.png"  alt="HAPI"/></a></div>
        <div class="pull-right"></div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
        <li id="publishDate">Last Published: 2023-10-30<span class="divider">|</span>
</li>
          <li id="projectVersion">Version: 2.5</li>
      <li class="pull-right"><span class="divider">|</span>
<a href="http://www.uhn.ca/" class="externalLink" title="University Health Network">University Health Network</a></li>
      <li class="pull-right"><span class="divider">|</span>
<a href="http://hl7.org/" class="externalLink" title="hl7.org">hl7.org</a></li>
      <li class="pull-right"><a href="https://github.com/hapifhir/hapi-hl7v2" class="externalLink" title="GitHub Project Page">GitHub Project Page</a></li>
        </ul>
      </div>
      <div class="row-fluid">
        <div id="leftColumn" class="span2">
          <div class="well sidebar-nav">
<ul class="nav nav-list">
          <li class="nav-header">Welcome</li>
    <li><a href="index.html" title="Introduction"><span class="none"></span>Introduction</a>  </li>
    <li><a href="changes-report.html" title="Changelog"><span class="none"></span>Changelog</a>  </li>
    <li><a href="https://smilecdr.com/blog/" class="externalLink" title="Blog"><span class="none"></span>Blog</a>  </li>
          <li class="nav-header">FHIR</li>
    <li><a href="hapi-fhir/" title="HAPI FHIR"><span class="none"></span>HAPI FHIR</a>  </li>
          <li class="nav-header">Tools</li>
    <li><a href="hapi-testpanel/index.html" title="TestPanel"><span class="none"></span>TestPanel</a>  </li>
    <li><a href="hapi-hl7overhttp/index.html" title="HL7 over HTTP"><span class="none"></span>HL7 over HTTP</a>  </li>
    <li><a href="colouriser.html" title="Colouriser"><span class="none"></span>Colouriser</a>  </li>
          <li class="nav-header">Download</li>
    <li><a href="https://sourceforge.net/projects/hl7api/files/hl7api/" class="externalLink" title="Download Java API"><span class="none"></span>Download Java API</a>  </li>
    <li><a href="hapi-testpanel/install.html" title="Download TestPanel"><span class="none"></span>Download TestPanel</a>  </li>
          <li class="nav-header">Documentation</li>
    <li><a href="getting_started.html" title="Getting Started"><span class="none"></span>Getting Started</a>  </li>
    <li class="active"><a href="#"><span class="none"></span>HAPI By Example</a>
  </li>
    <li><a href="base/apidocs/index.html" title="JavaDoc (API core)"><span class="icon-chevron-down"></span>JavaDoc (API core)</a>
      <ul class="nav nav-list">
    <li><a href="v21/apidocs/index.html" title="v2.1 Messages"><span class="none"></span>v2.1 Messages</a>  </li>
    <li><a href="v22/apidocs/index.html" title="v2.2 Messages"><span class="none"></span>v2.2 Messages</a>  </li>
    <li><a href="v23/apidocs/index.html" title="v2.3 Messages"><span class="none"></span>v2.3 Messages</a>  </li>
    <li><a href="v231/apidocs/index.html" title="v2.3.1 Messages"><span class="none"></span>v2.3.1 Messages</a>  </li>
    <li><a href="v24/apidocs/index.html" title="v2.4 Messages"><span class="none"></span>v2.4 Messages</a>  </li>
    <li><a href="v25/apidocs/index.html" title="v2.5 Messages"><span class="none"></span>v2.5 Messages</a>  </li>
    <li><a href="v251/apidocs/index.html" title="v2.5.1 Messages"><span class="none"></span>v2.5.1 Messages</a>  </li>
    <li><a href="v26/apidocs/index.html" title="v2.6 Messages"><span class="none"></span>v2.6 Messages</a>  </li>
    <li><a href="v27/apidocs/index.html" title="v2.7 Messages"><span class="none"></span>v2.7 Messages</a>  </li>
    <li><a href="v28/apidocs/index.html" title="v2.8 Messages"><span class="none"></span>v2.8 Messages</a>  </li>
    <li><a href="v281/apidocs/index.html" title="v2.8.1 Messages"><span class="none"></span>v2.8.1 Messages</a>  </li>
      </ul>
  </li>
    <li><a href="xref/index.html" title="Source XRef"><span class="none"></span>Source XRef</a>  </li>
    <li><a href="hapi-faq.html" title="FAQ"><span class="none"></span>FAQ</a>  </li>
    <li><a href="conformance.html" title="Conformance Tools"><span class="none"></span>Conformance Tools</a>  </li>
    <li><a href="hapi-sourcegen/confgen-usage.html" title="Maven Plugins"><span class="none"></span>Maven Plugins</a>  </li>
          <li class="nav-header">Get Help</li>
    <li><a href="mail-lists.html" title="Mailing List"><span class="none"></span>Mailing List</a>  </li>
          <li class="nav-header">Contribute</li>
    <li><a href="building.html" title="Hacking HAPI"><span class="none"></span>Hacking HAPI</a>  </li>
    <li><a href="submissions.html" title="Submitting Code"><span class="none"></span>Submitting Code</a>  </li>
    <li><a href="issue-tracking.html" title="Issue Tracking"><span class="none"></span>Issue Tracking</a>  </li>
    <li><a href="source-repository.html" title="Source Code"><span class="none"></span>Source Code</a>  </li>
          <li class="nav-header">Reports</li>
    <li><a href="team-list.html" title="HAPI Developers"><span class="none"></span>HAPI Developers</a>  </li>
    <li><a href="surefire-report.html" title="Unit Test Report"><span class="none"></span>Unit Test Report</a>  </li>
    <li><a href="taglist.html" title="Source Tag List"><span class="none"></span>Source Tag List</a>  </li>
    <li><a href="cobertura/index.html" title="Cobertura"><span class="none"></span>Cobertura</a>  </li>
    <li><a href="license.html" title="License"><span class="none"></span>License</a>  </li>
          <li class="nav-header">Older Documentation</li>
    <li><a href="parsing.html" title="Parsing Messages"><span class="none"></span>Parsing Messages</a>  </li>
    <li><a href="installation.html" title="Installation"><span class="none"></span>Installation</a>  </li>
    <li><a href="links.html" title="Helpful Links"><span class="none"></span>Helpful Links</a>  </li>
  </ul>
          <hr />
          <div id="poweredBy">
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
              <div class="clear"></div>
  <a href="http://maven.apache.org" title="Built with Maven 2" class="builtBy"><img class="builtBy"  alt="Built with Maven 2" src="images/logos/maven-feather.png"    /></a>
              </div>
          </div>
        </div>
        <div id="bodyColumn"  class="span10" >
<section>
<h2><a name="Developing_using_HAPI_-_By_Example"></a>Developing using HAPI - By Example</h2>
<p>This page is intended to explain how to develop an application that uses HAPI to send or receive messages, using straightforward examples. </p>
<p>It is a new section of the HAPI documentation, and is still very much a work in progress. If you have any comments/suggestions/corrections, please send them to <a class="externalLink" href="mailto:jamesagnew@sourceforge.net">mailto:jamesagnew@sourceforge.net</a>.</p>
<p>Please note that this page assumes at least a basic familiarity with <a class="externalLink" href="http://hl7.org">HL7</a> and it's terminology.</p><section>
<h3><a name="The_Basics"></a>The Basics</h3>
<ul>
<li>A good starting point with regards to using HAPI would be to <a href="./xref/ca/uhn/hl7v2/examples/ExampleParseMessages.html">parse a message</a>.</li></ul></section><section>
<h3><a name="Creating_messages"></a>Creating messages</h3>
<ul>
<li>Next, let's try <a href="./xref/ca/uhn/hl7v2/examples/CreateAMessage.html">creating a new message</a> from scratch.</li>
<li>Another common problem is to <a href="./xref/ca/uhn/hl7v2/examples/PopulateOBXSegment.html">populate an ORU message's OBX segment</a>.</li></ul></section><section>
<h3><a name="Sending_and_receiving"></a>Sending and receiving</h3>
<ul>
<li>First, you will need a <a href="./xref/ca/uhn/hl7v2/examples/TheHapiContext.html">HAPI Context</a>.</li>
<li>Now, let's introduce some <a href="./xref/ca/uhn/hl7v2/examples/SendAndReceiveAMessage.html">network operations</a> to send messages from a client and receive messages to a server.</li>
<li>Read messages from a file and <a href="./xref/ca/uhn/hl7v2/examples/SendLotsOfMessages.html">send multiple messages out</a> using ConnectionHub.</li>
<li>Handle different <a href="./xref/ca/uhn/hl7v2/examples/HandlingCharacterEncodings.html">character encoding schemes</a> (charsets), such as UTF-8, or ISO-8859/2.</li>
<li>Message encryption is possible using <a href="./xref/ca/uhn/hl7v2/examples/UsingTls.html">SSL/TLS</a></li>
<li>Configure <a href="./xref/ca/uhn/hl7v2/examples/CustomThreading.html"> threading</a> strategies by using custom ExecutorServices.</li></ul></section><section>
<h3><a name="Sending_and_receiving_using_HL7_over_HTTP"></a>Sending and receiving using HL7 over HTTP</h3>
<ul>
<li>See the <a href="./hapi-hl7overhttp/doc_hapi.html">HL7 over HTTP</a> page for information on how to incorporate HL7-over-HTTP instead of MLLP for a more robust and secure communication method.</li></ul></section><section>
<h3><a name="Parsing_Messages"></a>Parsing Messages</h3>
<ul>
<li>There are several ways to <a href="./xref/ca/uhn/hl7v2/examples/HandlingMultipleVersions.html">handle multiple versions</a> of HL7 within a single application.</li>
<li>Another way of reading and writing to message objects is to use a <a href="./xref/ca/uhn/hl7v2/examples/ExampleUseTerser.html">Terser</a></li>
<li>We can use a subclassed parser to <a href="./xref/ca/uhn/hl7v2/examples/CorrectInvalidMessageBeforeParsing.html">correct invalid messages before parsing them</a>.</li>
<li><a href="./xref/ca/uhn/hl7v2/examples/ExampleSuperStructures.html">SuperStructures</a> can be used to write applications which deal with various different ADT structures without writing different routines for each structure.</li>
<li>Allow parsing of ORU^R01 (and other messages with OBX segments) which have an invalid value in OBX-2, which specifies the type used to parse OBX-5 using <a href="./xref/ca/uhn/hl7v2/examples/ParseInvalidObx2Values.html">ParserConfiguration</a>.</li></ul></section><section>
<h3><a name="Custom_Segments_and_Structures"></a>Custom Segments and Structures</h3>
<ul>
<li><a href="./xref/ca/uhn/hl7v2/examples/CustomModelClasses.html">Custom Model Classes</a> and generic segments can be used to handle custom message types and Z-segments.</li>
<li>The <a href="./conformance.html">Conformance</a> page has information about the &quot;confgen&quot; maven plugin, which can be used to generate custom classes easily using HL7 conformance profiles.</li></ul></section><section>
<h3><a name="Validating_Messages"></a>Validating Messages</h3>
<ul>
<li>Once we're parsing messages, we can <a href="./xref/ca/uhn/hl7v2/examples/MessageValidation.html">validate messages</a> to make sure they contain no invalid data.</li>
<li>We can define our own <a href="./xref/ca/uhn/hl7v2/examples/CustomMessageValidation.html">validation rules</a> to adapt validation to site-specific requirements.</li>
<li>Another variant is to use a <a href="./xref/ca/uhn/hl7v2/examples/CustomMessageValidationWithValidatingVisitor.html">MessageVisitor for validating </a> e.g. that mandatory fields in a message instance are not empty.</li>
<li>To be even more advanced, we can <a href="./xref/ca/uhn/hl7v2/examples/MessageValidationUsingConformanceProfile.html">validate messages</a> using conformance profiles. Note that the conformance profile used in this example can be seen <a href="./xref/ca/uhn/hl7v2/examples/profiles/ADT_A31.xml">HERE</a>. See the FAQ for notes on using this in your own applications. </li></ul></section><section>
<h3><a name="Advanced_Creating_Messages"></a>Advanced Creating Messages</h3>
<ul>
<li>Alessandro Delprete submitted <a href="./xref/ca/uhn/hl7v2/examples/EncapsulatedData.html">this example</a> of how to embed a CDA document as MIME content in an MDM^T02 message.</li></ul></section><section>
<h3><a name="Configuring_HAPI"></a>Configuring HAPI</h3>
<ul>
<li>The <a href="./configuring_hapi.html">Configuring HAPI</a> page explains several options for advanced configuration.</li></ul></section><section>
<h3><a name="Utility_Classes"></a>Utility Classes</h3>
<ul>
<li><a href="./xref/ca/uhn/hl7v2/examples/ReadMessagesFromFile.html">Reading Messages from a File</a></li></ul></section></section>
        </div>
      </div>
    </div>
    <hr/>
    <footer>
      <div class="container-fluid">
        <div class="row-fluid">
            <p>Copyright &copy;2001&#x2013;2023
<a href="http://www.uhn.ca">University Health Network</a>.
All rights reserved.</p>
        </div>
        </div>
    </footer>
    </body>
</html>
